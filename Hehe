--// Infinite Sprint (Speed + No Stamina Drain) + GUI
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Cài đặt
local infiniteSprint = false
local speedValue = 90
local bodyVel

-- GUI
local ScreenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local Frame = Instance.new("Frame", ScreenGui)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Position = UDim2.new(0.05, 0, 0.3, 0)
Frame.Size = UDim2.new(0, 200, 0, 120)
Frame.Active, Frame.Draggable = true, true
Instance.new("UICorner", Frame)

local Title = Instance.new("TextLabel", Frame)
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "Sprint Hack Menu"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18

local ToggleSprint = Instance.new("TextButton", Frame)
ToggleSprint.Position = UDim2.new(0.1, 0, 0.35, 0)
ToggleSprint.Size = UDim2.new(0.8, 0, 0, 40)
ToggleSprint.Text = "Infinite Sprint: OFF"
ToggleSprint.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
ToggleSprint.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", ToggleSprint)

-- Hàm giữ stamina luôn max
local function keepStamina()
    while infiniteSprint do
        local stats = player:FindFirstChild("Stats") or player:FindFirstChild("leaderstats")
        if stats then
            local stamina = stats:FindFirstChild("Stamina") or stats:FindFirstChild("Energy")
            if stamina and stamina.Value < (stamina.MaxValue or stamina.Value) then
                stamina.Value = stamina.MaxValue or 100
            end
        end
        task.wait(0.1)
    end
end

-- Hàm bật speed bằng BodyVelocity
RunService.Heartbeat:Connect(function()
    if infiniteSprint and character and humanoid and humanoid.RootPart then
        if not bodyVel or not bodyVel.Parent then
            bodyVel = Instance.new("BodyVelocity")
            bodyVel.MaxForce = Vector3.new(1e5, 0, 1e5)
            bodyVel.Velocity = Vector3.zero
            bodyVel.Parent = humanoid.RootPart
        end
        if humanoid.MoveDirection.Magnitude > 0 then
            bodyVel.Velocity = humanoid.MoveDirection * speedValue
        else
            bodyVel.Velocity = Vector3.zero
        end
    elseif bodyVel then
        bodyVel.Velocity = Vector3.zero
    end
end)

-- Khi respawn
player.CharacterAdded:Connect(function(char)
    character = char
    humanoid = character:WaitForChild("Humanoid")
end)

-- Toggle
ToggleSprint.MouseButton1Click:Connect(function()
    infiniteSprint = not infiniteSprint
    if infiniteSprint then
        ToggleSprint.Text = "Infinite Sprint: ON"
        ToggleSprint.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
        task.spawn(keepStamina)
    else
        ToggleSprint.Text = "Infinite Sprint: OFF"
        ToggleSprint.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
        if bodyVel then bodyVel:Destroy() end
    end
end)
