local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- ====== CONFIG ======
local moneyName = "Bill" -- Đổi tên object tiền trong game
local pickupRange = 100  -- Khoảng cách auto nhặt
-- ====================

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 150, 0, 60)
Frame.Position = UDim2.new(0.05, 0, 0.2, 0)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 2
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 20)
Title.BackgroundTransparency = 1
Title.Text = "⚡ Auto Nhặt Tiền ⚡"
Title.TextColor3 = Color3.fromRGB(0, 255, 0)
Title.TextScaled = true
Title.Parent = Frame

local Toggle = Instance.new("TextButton")
Toggle.Size = UDim2.new(1, -10, 0, 30)
Toggle.Position = UDim2.new(0, 5, 0, 25)
Toggle.Text = "Bật"
Toggle.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
Toggle.TextScaled = true
Toggle.Parent = Frame

-- Auto Collect Logic
local autoCollect = false

Toggle.MouseButton1Click:Connect(function()
    autoCollect = not autoCollect
    if autoCollect then
        Toggle.Text = "Tắt"
        Toggle.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    else
        Toggle.Text = "Bật"
        Toggle.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
    end
end)

RunService.RenderStepped:Connect(function()
    if autoCollect and humanoidRootPart then
        for _, obj in ipairs(workspace:GetChildren()) do
            if obj.Name == moneyName or (obj:IsA("Part") and obj:FindFirstChild("TouchInterest")) then
                local distance = (humanoidRootPart.Position - obj.Position).Magnitude
                if distance <= pickupRange then
                    firetouchinterest(humanoidRootPart, obj, 0)
                    task.wait()
                    firetouchinterest(humanoidRootPart, obj, 1)
                end
            end
        end
    end
end)
