-- Auto Collect Money with ProximityPrompt
-- LocalScript

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- GUI Toggle
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

local Toggle = Instance.new("TextButton")
Toggle.Size = UDim2.new(0, 180, 0, 50)
Toggle.Position = UDim2.new(0.05, 0, 0.3, 0)
Toggle.Text = "⚡ Auto Nhặt Tiền: Tắt ⚡"
Toggle.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
Toggle.TextScaled = true
Toggle.Parent = ScreenGui

local autoCollect = false
Toggle.MouseButton1Click:Connect(function()
    autoCollect = not autoCollect
    if autoCollect then
        Toggle.Text = "⚡ Auto Nhặt Tiền: Bật ⚡"
        Toggle.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    else
        Toggle.Text = "⚡ Auto Nhặt Tiền: Tắt ⚡"
        Toggle.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
    end
end)

-- Auto Collect Logic (ProximityPrompt)
RunService.RenderStepped:Connect(function()
    if autoCollect and humanoidRootPart then
        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj:IsA("ProximityPrompt") and obj.Parent:IsA("Part") then
                local distance = (humanoidRootPart.Position - obj.Parent.Position).Magnitude
                if distance <= obj.MaxActivationDistance then
                    fireproximityprompt(obj) -- bấm tự động
                end
            end
        end
    end
end)
