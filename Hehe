--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

--// GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 220, 0, 220)
mainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = ScreenGui

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Text = "☠️ Auto Boss ☠️"
title.Parent = mainFrame

-- Buttons
local function makeButton(text, posY)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 200, 0, 30)
    btn.Position = UDim2.new(0, 10, 0, posY)
    btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Text = text
    btn.Parent = mainFrame
    return btn
end

local autoAttackBtn = makeButton("Auto Attack: OFF", 40)
local orbitBossBtn = makeButton("Orbit Boss: OFF", 80)

-- Orbit settings
local radiusLabel = Instance.new("TextLabel")
radiusLabel.Size = UDim2.new(0, 120, 0, 25)
radiusLabel.Position = UDim2.new(0, 10, 0, 120)
radiusLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
radiusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
radiusLabel.Text = "Radius: 20"
radiusLabel.Parent = mainFrame

local radiusMinus = Instance.new("TextButton")
radiusMinus.Size = UDim2.new(0, 25, 0, 25)
radiusMinus.Position = UDim2.new(0, 140, 0, 120)
radiusMinus.Text = "-"
radiusMinus.Parent = mainFrame

local radiusPlus = Instance.new("TextButton")
radiusPlus.Size = UDim2.new(0, 25, 0, 25)
radiusPlus.Position = UDim2.new(0, 170, 0, 120)
radiusPlus.Text = "+"
radiusPlus.Parent = mainFrame

local speedLabel = Instance.new("TextLabel")
speedLabel.Size = UDim2.new(0, 120, 0, 25)
speedLabel.Position = UDim2.new(0, 10, 0, 150)
speedLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
speedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
speedLabel.Text = "Speed: 2"
speedLabel.Parent = mainFrame

local speedMinus = Instance.new("TextButton")
speedMinus.Size = UDim2.new(0, 25, 0, 25)
speedMinus.Position = UDim2.new(0, 140, 0, 150)
speedMinus.Text = "-"
speedMinus.Parent = mainFrame

local speedPlus = Instance.new("TextButton")
speedPlus.Size = UDim2.new(0, 25, 0, 25)
speedPlus.Position = UDim2.new(0, 170, 0, 150)
speedPlus.Text = "+"
speedPlus.Parent = mainFrame

local heightLabel = Instance.new("TextLabel")
heightLabel.Size = UDim2.new(0, 120, 0, 25)
heightLabel.Position = UDim2.new(0, 10, 0, 180)
heightLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
heightLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
heightLabel.Text = "Height: 0"
heightLabel.Parent = mainFrame

local heightMinus = Instance.new("TextButton")
heightMinus.Size = UDim2.new(0, 25, 0, 25)
heightMinus.Position = UDim2.new(0, 140, 0, 180)
heightMinus.Text = "-"
heightMinus.Parent = mainFrame

local heightPlus = Instance.new("TextButton")
heightPlus.Size = UDim2.new(0, 25, 0, 25)
heightPlus.Position = UDim2.new(0, 170, 0, 180)
heightPlus.Text = "+"
heightPlus.Parent = mainFrame

-- Vars
local autoAttack = false
local orbitBoss = false
local orbitRadius = 20
local orbitSpeed = 2
local orbitHeight = 0

-- Toggles
autoAttackBtn.MouseButton1Click:Connect(function()
    autoAttack = not autoAttack
    autoAttackBtn.Text = "Auto Attack: " .. (autoAttack and "ON" or "OFF")
end)

orbitBossBtn.MouseButton1Click:Connect(function()
    orbitBoss = not orbitBoss
    orbitBossBtn.Text = "Orbit Boss: " .. (orbitBoss and "ON" or "OFF")
end)

-- Adjust settings
radiusMinus.MouseButton1Click:Connect(function()
    orbitRadius = math.max(5, orbitRadius - 1)
    radiusLabel.Text = "Radius: " .. orbitRadius
end)
radiusPlus.MouseButton1Click:Connect(function()
    orbitRadius = orbitRadius + 1
    radiusLabel.Text = "Radius: " .. orbitRadius
end)
speedMinus.MouseButton1Click:Connect(function()
    orbitSpeed = math.max(1, orbitSpeed - 1)
    speedLabel.Text = "Speed: " .. orbitSpeed
end)
speedPlus.MouseButton1Click:Connect(function()
    orbitSpeed = orbitSpeed + 1
    speedLabel.Text = "Speed: " .. orbitSpeed
end)
heightMinus.MouseButton1Click:Connect(function()
    orbitHeight = orbitHeight - 1
    heightLabel.Text = "Height: " .. orbitHeight
end)
heightPlus.MouseButton1Click:Connect(function()
    orbitHeight = orbitHeight + 1
    heightLabel.Text = "Height: " .. orbitHeight
end)

-- Functions
local function getBoss()
    local closest, dist = nil, math.huge
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Model") and v:FindFirstChild("HumanoidRootPart") and v:FindFirstChildOfClass("Humanoid") then
            local hrp = v.HumanoidRootPart
            local d = (hrp.Position - HumanoidRootPart.Position).Magnitude
            if d < dist and v.Humanoid.Health > 0 then
                closest, dist = hrp, d
            end
        end
    end
    return closest
end

-- Auto Attack
RunService.RenderStepped:Connect(function()
    if autoAttack and HumanoidRootPart then
        local boss = getBoss()
        if boss and (HumanoidRootPart.Position - boss.Position).Magnitude <= 15 then
            for _, tool in pairs(LocalPlayer.Backpack:GetChildren()) do
                if tool:IsA("Tool") then
                    tool.Parent = Character
                    tool:Activate()
                end
            end
        end
    end
end)

-- Orbit Boss
RunService.RenderStepped:Connect(function()
    if orbitBoss and HumanoidRootPart then
        local boss = getBoss()
        if boss then
            local time = tick() * orbitSpeed
            local x = boss.Position.X + math.cos(time) * orbitRadius
            local y = boss.Position.Y + orbitHeight
            local z = boss.Position.Z + math.sin(time) * orbitRadius
            HumanoidRootPart.CFrame = CFrame.new(Vector3.new(x, y, z), boss.Position)
        end
    end
end)

-- Auto Heal (50% HP)
Humanoid.HealthChanged:Connect(function(hp)
    if hp > 0 and hp < Humanoid.MaxHealth * 0.5 then
        for _, item in pairs(LocalPlayer.Backpack:GetChildren()) do
            if item:IsA("Tool") and item.Name:lower():find("băng") then
                item.Parent = Character
                item:Activate()
                task.wait(1)
            end
        end
    end
end)

-- Auto Pickup Items
RunService.Stepped:Connect(function()
    for _, v in pairs(workspace:GetChildren()) do
        if v:IsA("Tool") and (v.Position - HumanoidRootPart.Position).Magnitude < 20 then
            firetouchinterest(HumanoidRootPart, v.Handle, 0)
            firetouchinterest(HumanoidRootPart, v.Handle, 1)
        end
    end
end)
