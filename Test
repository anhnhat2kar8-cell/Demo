local gui = Instance.new("ScreenGui", lp:WaitForChild("PlayerGui"))
gui.Name = "RENX_GUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 240, 0, 300)
frame.Position = UDim2.new(0, 20, 0.5, -150)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BackgroundTransparency = 0.2
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui
frame.AnchorPoint = Vector2.new(0, 0.5)
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 8)

-- Tiêu đề
local nameLabel = Instance.new("TextLabel", frame)
nameLabel.Size = UDim2.new(1, 0, 0, 28)
nameLabel.Position = UDim2.new(0, 0, 0, 0)
nameLabel.Text = "��RENX GUI��"
nameLabel.TextColor3 = Color3.new(1, 1, 1)
nameLabel.BackgroundTransparency = 1
nameLabel.Font = Enum.Font.GothamBold
nameLabel.TextSize = 22

-- Hàm tạo nút toggle
local function createToggleButton(parent, text, posY, defaultState, onToggle)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, -10, 0, 30)
	btn.Position = UDim2.new(0, 5, 0, posY)
	btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 18
	btn.Text = (defaultState and "Tắt " or "Bật ") .. text
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
	btn.Parent = parent

	btn.MouseButton1Click:Connect(function()
		defaultState = not defaultState
		btn.Text = (defaultState and "Tắt " or "Bật ") .. text
		onToggle(defaultState)
	end)

	return btn
end

-- Các nút toggle
createToggleButton(frame, "Farm Boss", 30, running, function(state) running = state end)
createToggleButton(frame, "Auto Nhặt", 65, autoLoot, function(state) autoLoot = state end)
createToggleButton(frame, "Auto Heal", 100, autoHeal, function(state) autoHeal = state end)
createToggleButton(frame, "Auto Attack", 135, autoAttack, function(state) autoAttack = state end)

-- Label Radius
local radiusLabel = Instance.new("TextLabel", frame)
radiusLabel.Position = UDim2.new(0, 10, 0, 175)
radiusLabel.Size = UDim2.new(0, 50, 0, 25)
radiusLabel.Text = "R:"
radiusLabel.TextColor3 = Color3.new(1, 1, 1)
radiusLabel.BackgroundTransparency = 1
radiusLabel.Font = Enum.Font.GothamMedium
radiusLabel.TextSize = 18
radiusLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Box Radius
local radiusBox = Instance.new("TextBox", frame)
radiusBox.Position = UDim2.new(0, 50, 0, 175)
radiusBox.Size = UDim2.new(0, 60, 0, 25)
radiusBox.Text = tostring(radius)
radiusBox.TextColor3 = Color3.new(1, 1, 1)
radiusBox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
radiusBox.Font = Enum.Font.Gotham
radiusBox.TextSize = 18
radiusBox.ClearTextOnFocus = false
Instance.new("UICorner", radiusBox).CornerRadius = UDim.new(0, 4)

-- Radius -/+
local radiusMinus = Instance.new("TextButton", frame)
radiusMinus.Position = UDim2.new(0, 120, 0, 175)
radiusMinus.Size = UDim2.new(0, 25, 0, 25)
radiusMinus.Text = "-"
radiusMinus.TextColor3 = Color3.new(1, 1, 1)
radiusMinus.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
radiusMinus.Font = Enum.Font.GothamBold
radiusMinus.TextSize = 18
Instance.new("UICorner", radiusMinus).CornerRadius = UDim.new(0, 4)

local radiusPlus = Instance.new("TextButton", frame)
radiusPlus.Position = UDim2.new(0, 150, 0, 175)
radiusPlus.Size = UDim2.new(0, 25, 0, 25)
radiusPlus.Text = "+"
radiusPlus.TextColor3 = Color3.new(1, 1, 1)
radiusPlus.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
radiusPlus.Font = Enum.Font.GothamBold
radiusPlus.TextSize = 18
Instance.new("UICorner", radiusPlus).CornerRadius = UDim.new(0, 4)

-- Label Speed
local speedLabel = Instance.new("TextLabel", frame)
speedLabel.Position = UDim2.new(0, 10, 0, 210)
speedLabel.Size = UDim2.new(0, 50, 0, 25)
speedLabel.Text = "S:"
speedLabel.TextColor3 = Color3.new(1, 1, 1)
speedLabel.BackgroundTransparency = 1
speedLabel.Font = Enum.Font.GothamMedium
speedLabel.TextSize = 18
speedLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Box Speed
local speedBox = Instance.new("TextBox", frame)
speedBox.Position = UDim2.new(0, 50, 0, 210)
speedBox.Size = UDim2.new(0, 60, 0, 25)
speedBox.Text = tostring(speed)
speedBox.TextColor3 = Color3.new(1, 1, 1)
speedBox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
speedBox.Font = Enum.Font.Gotham
speedBox.TextSize = 18
speedBox.ClearTextOnFocus = false
Instance.new("UICorner", speedBox).CornerRadius = UDim.new(0, 4)

-- Speed -/+
local speedMinus = Instance.new("TextButton", frame)
speedMinus.Position = UDim2.new(0, 120, 0, 210)
speedMinus.Size = UDim2.new(0, 25, 0, 25)
speedMinus.Text = "-"
speedMinus.TextColor3 = Color3.new(1, 1, 1)
speedMinus.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
speedMinus.Font = Enum.Font.GothamBold
speedMinus.TextSize = 18
Instance.new("UICorner", speedMinus).CornerRadius = UDim.new(0, 4)

local speedPlus = Instance.new("TextButton", frame)
speedPlus.Position = UDim2.new(0, 150, 0, 210)
speedPlus.Size = UDim2.new(0, 25, 0, 25)
speedPlus.Text = "+"
speedPlus.TextColor3 = Color3.new(1, 1, 1)
speedPlus.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
speedPlus.Font = Enum.Font.GothamBold
speedPlus.TextSize = 18
Instance.new("UICorner", speedPlus).CornerRadius = UDim.new(0, 4)

-- Xử lý chỉnh số
radiusBox.FocusLost:Connect(function(enter)
	if enter then
		local val = tonumber(radiusBox.Text)
		if val then
			radius = math.clamp(val, 5, 100)
			radiusBox.Text = tostring(radius)
		else
			radiusBox.Text = tostring(radius)
		end
	end
end)

speedBox.FocusLost:Connect(function(enter)
	if enter then
		local val = tonumber(speedBox.Text)
		if val then
			speed = math.clamp(val, 0.1, 20)
			speedBox.Text = tostring(speed)
		else
			speedBox.Text = tostring(speed)
		end
	end
end)

radiusMinus.MouseButton1Click:Connect(function()
	radius = math.max(5, radius - 1)
	radiusBox.Text = tostring(radius)
end)
radiusPlus.MouseButton1Click:Connect(function()
	radius = math.min(100, radius + 1)
	radiusBox.Text = tostring(radius)
end)

speedMinus.MouseButton1Click:Connect(function()
	speed = math.max(0.1, speed - 0.1)
	speedBox.Text = string.format("%.1f", speed)
end)
speedPlus.MouseButton1Click:Connect(function()
	speed = math.min(20, speed + 0.1)
	speedBox.Text = string.format("%.1f", speed)
end)
