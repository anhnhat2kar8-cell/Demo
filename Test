local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local lp = Players.LocalPlayer
local chr = lp.Character or lp.CharacterAdded:Wait()
local hum = chr:WaitForChild("Humanoid")
local hrp = chr:WaitForChild("HumanoidRootPart")

-- Biáº¿n
local framBoss = false
local autoLoot = false
local autoHeal = false
local radius = 15
local speed = 2
local lootRange = 50
local healThreshold = 50
local currentWeapon = "None"
local lastWeapon = nil

-- GUI chÃ­nh
local gui = Instance.new("ScreenGui", lp:WaitForChild("PlayerGui"))
gui.Name = "FramBossUI"

local mainFrame = Instance.new("Frame", gui)
mainFrame.Size = UDim2.new(0, 420, 0, 460)
mainFrame.Position = UDim2.new(0.5, -210, 0.5, -230)
mainFrame.BackgroundColor3 = Color3.fromRGB(25,25,25)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BorderSizePixel = 4
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0,15)

-- Viá»n 7 mÃ u
task.spawn(function()
    local hue=0
    while mainFrame.Parent do
        hue=(hue+2)%360
        mainFrame.BorderColor3=Color3.fromHSV(hue/360,1,1)
        wait(0.05)
    end
end)

-- TiÃªu Ä‘á»
local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1,0,0,40)
title.BackgroundTransparency = 1
title.Text = "framboss"
title.TextColor3 = Color3.new(1,1,1)
title.TextScaled = true

-- DÃ²ng chá»n vÅ© khÃ­
local wepLabel = Instance.new("TextLabel", mainFrame)
wepLabel.Size = UDim2.new(1,-20,0,30)
wepLabel.Position = UDim2.new(0,10,0,50)
wepLabel.Text = "VÅ© KhÃ­ Hiá»‡n Táº¡i : None"
wepLabel.TextColor3 = Color3.new(1,1,1)
wepLabel.BackgroundTransparency = 1
wepLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Update vÅ© khÃ­
task.spawn(function()
    while true do
        local tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
        if tool then
            currentWeapon = tool.Name
        else
            currentWeapon = "None"
        end
        wepLabel.Text = "VÅ© KhÃ­ Hiá»‡n Táº¡i : "..currentWeapon
        wait(0.5)
    end
end)

--------------------------------------------------
-- ðŸ“Œ HÃ m tiá»‡n Ã­ch
local function makeToggle(text,posY,callback)
    local btn = Instance.new("TextButton", mainFrame)
    btn.Size = UDim2.new(0.9,0,0,30)
    btn.Position = UDim2.new(0.05,0,0,posY)
    btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Text = "Táº®T: "..text
    btn.TextScaled = true
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,8)
    btn.MouseButton1Click:Connect(function()
        local state = not btn.Text:find("Báº¬T")
        btn.Text = (state and "Báº¬T" or "Táº®T")..": "..text
        callback(state)
    end)
end

local function makeSlider(text,posY,min,max,default,callback)
    local label = Instance.new("TextLabel", mainFrame)
    label.Size = UDim2.new(0.9,0,0,25)
    label.Position = UDim2.new(0.05,0,0,posY)
    label.Text = text..": "..default
    label.TextColor3 = Color3.new(1,1,1)
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.TextScaled = true

    local back = Instance.new("Frame", mainFrame)
    back.Size = UDim2.new(0.9,0,0,10)
    back.Position = UDim2.new(0.05,0,0,posY+30)
    back.BackgroundColor3 = Color3.fromRGB(60,60,60)
    Instance.new("UICorner", back).CornerRadius = UDim.new(0,8)

    local fill = Instance.new("Frame", back)
    fill.Size = UDim2.new((default-min)/(max-min),0,1,0)
    fill.BackgroundColor3 = Color3.fromRGB(0,170,255)
    Instance.new("UICorner", fill).CornerRadius = UDim.new(0,8)

    local dragging=false
    back.InputBegan:Connect(function(i) if i.UserInputType==Enum.UserInputType.MouseButton1 then dragging=true end end)
    back.InputEnded:Connect(function(i) if i.UserInputType==Enum.UserInputType.MouseButton1 then dragging=false end end)
    UIS.InputChanged:Connect(function(i)
        if dragging and i.UserInputType==Enum.UserInputType.MouseMovement then
            local rel=math.clamp((i.Position.X-back.AbsolutePosition.X)/back.AbsoluteSize.X,0,1)
            fill.Size=UDim2.new(rel,0,1,0)
            local val=math.floor(min+rel*(max-min))
            label.Text=text..": "..val
            callback(val)
        end
    end)
end

--------------------------------------------------
-- ðŸ“Œ CÃ¡c chá»©c nÄƒng
makeToggle("Farm Boss ðŸŒªï¸",90,function(s) framBoss=s end)
makeToggle("Auto Nháº·t (teleport) ðŸ’Ž",130,function(s) autoLoot=s end)
makeSlider("Táº§m nháº·t",170,10,100,50,function(v) lootRange=v end)
makeToggle("Auto Heal (bÄƒng gáº¡c) ðŸ©¹",230,function(s) autoHeal=s end)

--------------------------------------------------
-- ðŸ“Œ Logic Fram Boss
local function getBoss()
    for _,v in pairs(workspace:GetDescendants()) do
        if v:IsA("Model") and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health>0 then
            return v
        end
    end
end

local function attack()
    local tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
    if tool then pcall(function() tool:Activate() end) end
end

RunService.Heartbeat:Connect(function()
    if framBoss then
        local boss = getBoss()
        if boss then
            local angle = tick() * speed
            local offset = Vector3.new(math.cos(angle)*radius,0,math.sin(angle)*radius)
            hrp.CFrame = CFrame.new(boss.HumanoidRootPart.Position+offset,boss.HumanoidRootPart.Position)
            attack()
        end
    end
end)

-- Auto Loot
task.spawn(function()
    while true do
        if autoLoot then
            for _,prompt in pairs(workspace:GetDescendants()) do
                if prompt:IsA("ProximityPrompt") and (prompt.Parent:IsA("BasePart") or prompt.Parent:IsA("MeshPart")) then
                    local dist = (hrp.Position - prompt.Parent.Position).Magnitude
                    if dist < lootRange then
                        fireproximityprompt(prompt)
                        wait(0.2)
                    end
                end
            end
        end
        wait(0.5)
    end
end)

-- Auto Heal
task.spawn(function()
    while true do
        if autoHeal and (hum.Health/hum.MaxHealth*100) < healThreshold then
            if lp.Character then
                local tool = lp.Character:FindFirstChildOfClass("Tool")
                if tool and not tool.Name:lower():find("bÄƒng") then
                    lastWeapon=tool
                end
            end
            for _,tool in ipairs(lp.Backpack:GetChildren()) do
                if tool:IsA("Tool") and tool.Name:lower():find("bÄƒng") then
                    tool.Parent=lp.Character
                    wait(0.2)
                    break
                end
            end
            local healTool=lp.Character:FindFirstChildWhichIsA("Tool")
            if healTool and healTool.Name:lower():find("bÄƒng") then
                healTool:Activate()
                wait(1)
                if lastWeapon and lastWeapon.Parent==lp.Backpack then
                    lastWeapon.Parent=lp.Character
                end
            end
        end
        wait(0.5)
    end
end)
