local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local lp = Players.LocalPlayer
local chr = lp.Character or lp.CharacterAdded:Wait()
local hum = chr:WaitForChild("Humanoid")
local hrp = chr:WaitForChild("HumanoidRootPart")

-- Bi·∫øn tr·∫°ng th√°i
local framBoss = false
local autoAttack = false
local showHp = false
local autoHeal = false
local autoLoot = false
local autoWood = false
local speed = 2
local radius = 15
local lastWeapon = nil

-- GUI ch√≠nh
local gui = Instance.new("ScreenGui", lp:WaitForChild("PlayerGui"))
gui.Name = "FramBossGui"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 420, 0, 400)
frame.Position = UDim2.new(0.5, -210, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
frame.BackgroundTransparency = 0.2
frame.Active = true
frame.Draggable = true
frame.BorderSizePixel = 0
frame.ClipsDescendants = true

-- Ti√™u ƒë·ªÅ
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, -40, 0, 35)
title.Position = UDim2.new(0, 10, 0, 5)
title.Text = "Fram Boss Tool"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 20
title.TextColor3 = Color3.fromRGB(255,255,255)
title.BackgroundTransparency = 1
title.TextXAlignment = Enum.TextXAlignment.Left

-- N√∫t t·∫Øt
local closeBtn = Instance.new("TextButton", frame)
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -35, 0, 5)
closeBtn.Text = "X"
closeBtn.Font = Enum.Font.SourceSansBold
closeBtn.TextSize = 20
closeBtn.TextColor3 = Color3.new(1,1,1)
closeBtn.BackgroundColor3 = Color3.fromRGB(150,0,0)
closeBtn.MouseButton1Click:Connect(function() gui:Destroy() end)

-- Thanh tr∆∞·ª£t t·ªëc ƒë·ªô
local spdLabel = Instance.new("TextLabel", frame)
spdLabel.Size = UDim2.new(1, -20, 0, 30)
spdLabel.Position = UDim2.new(0, 10, 0, 50)
spdLabel.Text = "T·ªëc ƒë·ªô g√≥c quay (radian/s)"
spdLabel.TextColor3 = Color3.new(1,1,1)
spdLabel.BackgroundTransparency = 1
spdLabel.TextXAlignment = Enum.TextXAlignment.Left

local sliderBack = Instance.new("Frame", frame)
sliderBack.Size = UDim2.new(0.9, 0, 0, 8)
sliderBack.Position = UDim2.new(0.05, 0, 0, 80)
sliderBack.BackgroundColor3 = Color3.fromRGB(60,60,60)

local sliderFill = Instance.new("Frame", sliderBack)
sliderFill.Size = UDim2.new(0.5, 0, 1, 0)
sliderFill.BackgroundColor3 = Color3.fromRGB(0,170,255)

local dragging = false
sliderBack.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = true end
end)
sliderBack.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
end)
game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local rel = math.clamp((input.Position.X - sliderBack.AbsolutePosition.X) / sliderBack.AbsoluteSize.X, 0, 1)
        sliderFill.Size = UDim2.new(rel,0,1,0)
        speed = math.floor(rel*10)
        if speed < 1 then speed = 1 end
    end
end)

-- H√†m t·∫°o toggle
local function makeToggle(text, order, callback)
    local btn = Instance.new("TextButton", frame)
    btn.Size = UDim2.new(0.9, 0, 0, 30)
    btn.Position = UDim2.new(0.05, 0, 0, 110 + (order*40))
    btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Text = "T·∫ÆT: "..text
    btn.MouseButton1Click:Connect(function()
        local state = not (btn.Text:find("B·∫¨T"))
        btn.Text = (state and "B·∫¨T" or "T·∫ÆT")..": "..text
        callback(state)
    end)
    return btn
end

-- Toggles
makeToggle("Fram Boss üå™Ô∏è",0,function(state) framBoss=state end)
makeToggle("Hi·ªÉn th·ªã m√°u Boss ‚ù§Ô∏è",1,function(state) showHp=state end)
makeToggle("T·ª± ƒë√°nh khi c·∫ßm v≈© kh√≠ üó°Ô∏è",2,function(state) autoAttack=state end)
makeToggle("Auto Heal ü©π",3,function(state) autoHeal=state end)
makeToggle("Auto L·ª•m üíé",4,function(state) autoLoot=state end)
makeToggle("Auto Ch·∫∑t G·ªó üå≤",5,function(state) autoWood=state end)

-- N√∫t PLAY
local playBtn = Instance.new("TextButton", frame)
playBtn.Size = UDim2.new(0.6, 0, 0, 40)
playBtn.Position = UDim2.new(0.2, 0, 1, -50)
playBtn.Text = "PLAY"
playBtn.BackgroundColor3 = Color3.fromRGB(255,200,0)
playBtn.TextColor3 = Color3.fromRGB(0,0,0)
playBtn.Font = Enum.Font.SourceSansBold
playBtn.TextSize = 22

-- H√†m t√¨m boss
local function getBoss()
    for _,v in pairs(workspace:GetDescendants()) do
        if v:IsA("Model") and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health>0 then
            return v
        end
    end
end

-- Auto Attack
local function attack()
    local tool = lp.Character and lp.Character:FindFirstChildOfClass("Tool")
    if tool then pcall(function() tool:Activate() end) end
end

-- Auto Heal
task.spawn(function()
    while true do
        if autoHeal and hum.Health < 80 then
            if lp.Character then
                local tool = lp.Character:FindFirstChildOfClass("Tool")
                if tool and not tool.Name:lower():find("bƒÉng") then
                    lastWeapon = tool
                end
            end
            local bandage = lp.Character and lp.Character:FindFirstChildWhichIsA("Tool")
            if not bandage or not bandage.Name:lower():find("bƒÉng") then
                for _,tool in ipairs(lp.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and tool.Name:lower():find("bƒÉng") then
                        tool.Parent = lp.Character
                        wait(0.2)
                        break
                    end
                end
            end
            local healTool = lp.Character:FindFirstChildWhichIsA("Tool")
            if healTool and healTool.Name:lower():find("bƒÉng") then
                healTool:Activate()
                wait(1)
                if lastWeapon and lastWeapon.Parent == lp.Backpack then
                    lastWeapon.Parent = lp.Character
                end
            end
        end
        wait(0.5)
    end
end)

-- Auto Loot
task.spawn(function()
    while true do
        if autoLoot then
            for _,prompt in pairs(workspace:GetDescendants()) do
                if prompt:IsA("ProximityPrompt") and (prompt.Parent:IsA("BasePart") or prompt.Parent:IsA("MeshPart")) then
                    local dist = (hrp.Position - prompt.Parent.Position).Magnitude
                    if dist < 15 then
                        fireproximityprompt(prompt)
                        wait(0.2)
                    end
                end
            end
        end
        wait(0.5)
    end
end)

-- Auto Ch·∫∑t G·ªó
task.spawn(function()
    while true do
        if autoWood then
            for _,tree in pairs(workspace:GetDescendants()) do
                if tree:IsA("Model") and tree.Name:lower():find("tree") and tree:FindFirstChild("Humanoid") then
                    if (hrp.Position - tree.HumanoidRootPart.Position).Magnitude < 20 then
                        hrp.CFrame = CFrame.new(hrp.Position, tree.HumanoidRootPart.Position)
                        attack()
                        wait(0.2)
                    end
                end
            end
        end
        wait(0.5)
    end
end)

-- Run Fram Boss
RunService.Heartbeat:Connect(function()
    if framBoss then
        local boss = getBoss()
        if boss then
            local angle = tick() * speed
            local offset = Vector3.new(math.cos(angle)*radius,0,math.sin(angle)*radius)
            local pos = boss.HumanoidRootPart.Position + offset
            hrp.CFrame = CFrame.new(pos,boss.HumanoidRootPart.Position)
            if autoAttack then attack() end
            if showHp then
                title.Text = "Fram Boss Tool | M√°u Boss: "..math.floor(boss.Humanoid.Health)
            else
                title.Text = "Fram Boss Tool"
            end
        end
    end
end)
