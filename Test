-- (phần đầu script bạn giữ nguyên)

-- Quay vòng quanh mục tiêu + Auto Attack + Auto Heal
RunService.Heartbeat:Connect(function()
	if running then
		local target = getTarget()
		if target and target:FindFirstChild("HumanoidRootPart") then
			local angle = tick() * speed
			local offset = Vector3.new(math.cos(angle) * radius, 0, math.sin(angle) * radius)
			local goalPos = target.HumanoidRootPart.Position + offset
			local tween = TweenService:Create(hrp, TweenInfo.new(0.1), {CFrame = CFrame.new(goalPos, target.HumanoidRootPart.Position)})
			tween:Play()
			hum.AutoRotate = false
			hrp.CFrame = CFrame.new(hrp.Position, target.HumanoidRootPart.Position)

			if autoAttack then attack() end

			hpLabel.Text = "Máu mục tiêu: " .. math.floor(target.Humanoid.Health)
		end
	end

	-- ✅ Auto hồi máu khi máu dưới 50%
	if hum.Health < hum.MaxHealth * 0.5 then
		for _, item in pairs(lp.Backpack:GetChildren()) do
			if item:IsA("Tool") and item.Name:lower():find("băng gạc") then
				lp.Character.Humanoid:EquipTool(item)
				task.wait(0.1)
				pcall(function() item:Activate() end)
				break
			end
		end
	end
end)disLabel.Text = "Khoảng cách:"
disLabel.Size = UDim2.new(0, 100, 0, 25)
disLabel.Position = UDim2.new(0, 10, 0, 50)
disLabel.TextColor3 = Color3.new(1,1,1)
disLabel.BackgroundTransparency = 1
disLabel.TextXAlignment = Enum.TextXAlignment.Left

local disInput = Instance.new("TextBox", frame)
disInput.Size = UDim2.new(0, 100, 0, 25)
disInput.Position = UDim2.new(0, 130, 0, 50)
disInput.Text = tostring(radius)
disInput.BackgroundColor3 = Color3.fromRGB(60,60,60)
disInput.TextColor3 = Color3.new(1,1,1)

-- Input tốc độ
local spdLabel = Instance.new("TextLabel", frame)
spdLabel.Text = "Tốc độ quay:"
spdLabel.Size = UDim2.new(0, 100, 0, 25)
spdLabel.Position = UDim2.new(0, 10, 0, 80)
spdLabel.TextColor3 = Color3.new(1,1,1)
spdLabel.BackgroundTransparency = 1
spdLabel.TextXAlignment = Enum.TextXAlignment.Left

local spdInput = Instance.new("TextBox", frame)
spdInput.Size = UDim2.new(0, 100, 0, 25)
spdInput.Position = UDim2.new(0, 130, 0, 80)
spdInput.Text = tostring(speed)
spdInput.BackgroundColor3 = Color3.fromRGB(60,60,60)
spdInput.TextColor3 = Color3.new(1,1,1)

-- Máu mục tiêu
local hpLabel = Instance.new("TextLabel", frame)
hpLabel.Size = UDim2.new(1, -20, 0, 25)
hpLabel.Position = UDim2.new(0, 10, 0, 110)
hpLabel.Text = "Máu mục tiêu: ..."
hpLabel.TextColor3 = Color3.new(1, 0, 0)
hpLabel.BackgroundTransparency = 1
hpLabel.TextScaled = true

-- Auto đánh
local autoBtn = Instance.new("TextButton", frame)
autoBtn.Size = UDim2.new(1, -20, 0, 25)
autoBtn.Position = UDim2.new(0, 10, 0, 140)
autoBtn.Text = "BẬT: Auto Đánh"
autoBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
autoBtn.TextColor3 = Color3.new(1,1,1)

-- Tên menu (7 màu nếu có)
local nameText = Instance.new("TextLabel", frame)
nameText.Size = UDim2.new(1, -20, 0, 25)
nameText.Position = UDim2.new(0, 10, 0, 170)
nameText.Text = "TT:MatNhanThuc"
nameText.TextScaled = true
nameText.BackgroundTransparency = 1
nameText.TextColor3 = Color3.fromRGB(0, 170, 255)

-- Hiệu ứng 7 màu cho tên menu
task.spawn(function()
	local hue = 0
	while true do
		hue = (hue + 0.01) % 1
		nameText.TextColor3 = Color3.fromHSV(hue, 1, 1)
		wait(0.05)
	end
end)
